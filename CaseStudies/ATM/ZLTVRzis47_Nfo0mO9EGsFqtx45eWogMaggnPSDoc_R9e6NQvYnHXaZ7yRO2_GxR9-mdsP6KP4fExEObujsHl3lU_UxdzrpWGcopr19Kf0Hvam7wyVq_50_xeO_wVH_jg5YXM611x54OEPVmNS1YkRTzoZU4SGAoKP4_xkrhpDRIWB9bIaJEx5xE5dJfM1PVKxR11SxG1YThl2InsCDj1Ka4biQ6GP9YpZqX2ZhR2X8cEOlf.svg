<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1183px" preserveAspectRatio="none" style="width:4007px;height:1183px;background:#FFFFFF;" version="1.1" viewBox="0 0 4007 1183" width="4007px" zoomAndPan="magnify"><title>ATM &#8212; SOLID LLD with State(PIN), Strategy(Dispense), Proxy(Bank), Singleton(Config)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="686.7109" x="1653.1445" y="22.9951">ATM &#8212; SOLID LLD with State(PIN), Strategy(Dispense), Proxy(Bank), Singleton(Config)</text></g><!--cluster Domain--><g class="cluster" data-entity="Domain" data-source-line="9" data-uid="ent0002" id="cluster_Domain"><rect fill="none" height="132" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="178" x="832" y="495.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60.04" x="890.98" y="510.292">Domain</text></g><!--cluster HardwarePorts--><g class="cluster" data-entity="HardwarePorts" data-source-line="32" data-uid="ent0005" id="cluster_HardwarePorts"><rect fill="none" height="132" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="1441" x="1034" y="495.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="118.6787" x="1695.1606" y="510.292">HardwarePorts</text></g><!--cluster BankService--><g class="cluster" data-entity="BankService" data-source-line="60" data-uid="ent0011" id="cluster_BankService"><rect fill="none" height="604.36" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="1030" x="2507" y="543.4369"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97.5967" x="2973.2017" y="558.432">BankService</text></g><!--cluster DispenseStrategyPkg--><g class="cluster" data-entity="DispenseStrategyPkg" data-source-line="100" data-uid="ent0022" id="cluster_DispenseStrategyPkg"><rect fill="none" height="273" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="394" x="3569" y="664.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="170.1191" x="3680.9404" y="679.292">DispenseStrategyPkg</text></g><!--cluster PinFlow--><g class="cluster" data-entity="PinFlow" data-source-line="110" data-uid="ent0026" id="cluster_PinFlow"><rect fill="none" height="566.5" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="356" x="7" y="44.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61.9404" x="154.0298" y="59.292">PinFlow</text></g><!--class Card--><g class="entity" data-entity="Card" data-source-line="10" data-uid="ent0003" id="entity_Card"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.1709" x="848.5" y="530.2969"/><ellipse cx="900.3369" cy="546.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M903.3057,551.9375 Q902.7275,552.2344 902.0869,552.375 Q901.4463,552.5313 900.7432,552.5313 Q898.2432,552.5313 896.915,550.8906 Q895.6025,549.2344 895.6025,546.1094 Q895.6025,542.9844 896.915,541.3281 Q898.2432,539.6719 900.7432,539.6719 Q901.4463,539.6719 902.0869,539.8281 Q902.7432,539.9844 903.3057,540.2813 L903.3057,543 Q902.6807,542.4219 902.0869,542.1563 Q901.4932,541.875 900.8682,541.875 Q899.5244,541.875 898.8369,542.9531 Q898.1494,544.0156 898.1494,546.1094 Q898.1494,548.2031 898.8369,549.2813 Q899.5244,550.3438 900.8682,550.3438 Q901.4932,550.3438 902.0869,550.0781 Q902.6807,549.7969 903.3057,549.2188 L903.3057,551.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.9971" x="920.8369" y="551.1436">Card</text><line style="stroke:#181818;stroke-width:0.5;" x1="849.5" x2="992.6709" y1="562.2969" y2="562.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.7891" x="854.5" y="579.292">-pan : String</text><line style="stroke:#181818;stroke-width:0.5;" x1="849.5" x2="992.6709" y1="586.5938" y2="586.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.1709" x="854.5" y="603.5889">+masked() : String</text></g><!--class Display--><g class="entity" data-entity="Display" data-source-line="33" data-uid="ent0006" id="entity_Display"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="206.2568" x="1050" y="538.7969"/><ellipse cx="1123.0762" cy="554.7969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1118.998,550.5625 L1118.998,548.4063 L1126.3887,548.4063 L1126.3887,550.5625 L1123.9199,550.5625 L1123.9199,558.6406 L1126.3887,558.6406 L1126.3887,560.7969 L1118.998,560.7969 L1118.998,558.6406 L1121.4668,558.6406 L1121.4668,550.5625 L1118.998,550.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="51.6045" x="1143.5762" y="559.6436">Display</text><line style="stroke:#181818;stroke-width:0.5;" x1="1051" x2="1255.2568" y1="570.7969" y2="570.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="1051" x2="1255.2568" y1="578.7969" y2="578.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.2568" x="1056" y="595.792">+show( text : String ) : void</text></g><!--class Keypad--><g class="entity" data-entity="Keypad" data-source-line="37" data-uid="ent0007" id="entity_Keypad"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176.9033" x="1291.5" y="530.2969"/><ellipse cx="1349.4858" cy="546.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1345.4077,542.0625 L1345.4077,539.9063 L1352.7983,539.9063 L1352.7983,542.0625 L1350.3296,542.0625 L1350.3296,550.1406 L1352.7983,550.1406 L1352.7983,552.2969 L1345.4077,552.2969 L1345.4077,550.1406 L1347.8765,550.1406 L1347.8765,542.0625 L1345.4077,542.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="52.4316" x="1369.9858" y="551.1436">Keypad</text><line style="stroke:#181818;stroke-width:0.5;" x1="1292.5" x2="1467.4033" y1="562.2969" y2="562.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="1292.5" x2="1467.4033" y1="570.2969" y2="570.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.0928" x="1297.5" y="587.292">+readPin() : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.9033" x="1297.5" y="603.5889">+readAmount() : String</text></g><!--class CardReader--><g class="entity" data-entity="CardReader" data-source-line="42" data-uid="ent0008" id="entity_CardReader"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.3799" x="1503" y="530.2969"/><ellipse cx="1533.8432" cy="546.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1529.765,542.0625 L1529.765,539.9063 L1537.1557,539.9063 L1537.1557,542.0625 L1534.6869,542.0625 L1534.6869,550.1406 L1537.1557,550.1406 L1537.1557,552.2969 L1529.765,552.2969 L1529.765,550.1406 L1532.2338,550.1406 L1532.2338,542.0625 L1529.765,542.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83.1729" x="1551.3639" y="551.1436">CardReader</text><line style="stroke:#181818;stroke-width:0.5;" x1="1504" x2="1652.3799" y1="562.2969" y2="562.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="1504" x2="1652.3799" y1="570.2969" y2="570.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.3799" x="1509" y="587.292">+readPAN() : String</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.1016" x="1509" y="603.5889">+eject()   : void</text></g><!--class CashDispenser--><g class="entity" data-entity="CashDispenser" data-source-line="47" data-uid="ent0009" id="entity_CashDispenser"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="288.4248" x="1688" y="530.2969"/><ellipse cx="1775.7017" cy="546.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1771.6235,542.0625 L1771.6235,539.9063 L1779.0142,539.9063 L1779.0142,542.0625 L1776.5454,542.0625 L1776.5454,550.1406 L1779.0142,550.1406 L1779.0142,552.2969 L1771.6235,552.2969 L1771.6235,550.1406 L1774.0923,550.1406 L1774.0923,542.0625 L1771.6235,542.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="104.5215" x="1796.2017" y="551.1436">CashDispenser</text><line style="stroke:#181818;stroke-width:0.5;" x1="1689" x2="1975.4248" y1="562.2969" y2="562.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="1689" x2="1975.4248" y1="570.2969" y2="570.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276.4248" x="1694" y="587.292">+canDispense( amount : int ) : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.334" x="1694" y="603.5889">+dispense( bundle : Map ) : void</text></g><!--class ReceiptPrinter--><g class="entity" data-entity="ReceiptPrinter" data-source-line="52" data-uid="ent0010" id="entity_ReceiptPrinter"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="446.7793" x="2011.5" y="538.7969"/><ellipse cx="2180.7715" cy="554.7969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2176.6934,550.5625 L2176.6934,548.4063 L2184.084,548.4063 L2184.084,550.5625 L2181.6152,550.5625 L2181.6152,558.6406 L2184.084,558.6406 L2184.084,560.7969 L2176.6934,560.7969 L2176.6934,558.6406 L2179.1621,558.6406 L2179.1621,550.5625 L2176.6934,550.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="99.7363" x="2201.2715" y="559.6436">ReceiptPrinter</text><line style="stroke:#181818;stroke-width:0.5;" x1="2012.5" x2="2457.2793" y1="570.7969" y2="570.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="2012.5" x2="2457.2793" y1="578.7969" y2="578.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434.7793" x="2017.5" y="595.792">+print( maskedPan : String, amount : int, balance : int ) : void</text></g><!--class BankService--><g class="entity" data-entity="BankService" data-source-line="61" data-uid="ent0012" id="entity_BankService"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="425.6426" x="3087" y="682.7969"/><ellipse cx="3252.1187" cy="698.7969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3248.0405,694.5625 L3248.0405,692.4063 L3255.4312,692.4063 L3255.4312,694.5625 L3252.9624,694.5625 L3252.9624,702.6406 L3255.4312,702.6406 L3255.4312,704.7969 L3248.0405,704.7969 L3248.0405,702.6406 L3250.5093,702.6406 L3250.5093,694.5625 L3248.0405,694.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="86.9053" x="3272.6187" y="703.6436">BankService</text><line style="stroke:#181818;stroke-width:0.5;" x1="3088" x2="3511.6426" y1="714.7969" y2="714.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="3088" x2="3511.6426" y1="722.7969" y2="722.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="354.6279" x="3093" y="739.792">+verifyPin( pan : String, pin : String ) : PinDecision</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="405.0088" x="3093" y="756.0889">+precheck( pan : String, amount : int )  : AmountDecision</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="413.6426" x="3093" y="772.3857">+withdraw( pan : String, amount : int )  : WithdrawalResult</text></g><!--class PinDecision--><g class="entity" data-entity="PinDecision" data-source-line="67" data-uid="ent0013" id="entity_PinDecision"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.8662" x="2531" y="682.7969"/><ellipse cx="2551.8764" cy="698.7969" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2555.9857,704.7969 L2548.267,704.7969 L2548.267,692.4063 L2555.9857,692.4063 L2555.9857,694.5625 L2550.7201,694.5625 L2550.7201,697.2344 L2555.4857,697.2344 L2555.4857,699.3906 L2550.7201,699.3906 L2550.7201,702.6406 L2555.9857,702.6406 L2555.9857,704.7969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.8076" x="2567.1822" y="703.6436">PinDecision</text><line style="stroke:#181818;stroke-width:0.5;" x1="2532" x2="2655.8662" y1="714.7969" y2="714.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.2002" x="2537" y="731.792">OK</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.4648" x="2537" y="748.0889">INVALID</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.8662" x="2537" y="764.3857">CARD_BLOCKED</text><line style="stroke:#181818;stroke-width:0.5;" x1="2532" x2="2655.8662" y1="771.6875" y2="771.6875"/></g><!--class AmountDecision--><g class="entity" data-entity="AmountDecision" data-source-line="73" data-uid="ent0014" id="entity_AmountDecision"><rect fill="#F1F1F1" height="113.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.0967" x="2692.5" y="674.7969"/><ellipse cx="2717.6153" cy="690.7969" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2721.7247,696.7969 L2714.006,696.7969 L2714.006,684.4063 L2721.7247,684.4063 L2721.7247,686.5625 L2716.4591,686.5625 L2716.4591,689.2344 L2721.2247,689.2344 L2721.2247,691.3906 L2716.4591,691.3906 L2716.4591,694.6406 L2721.7247,694.6406 L2721.7247,696.7969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.6182" x="2733.8632" y="695.6436">AmountDecision</text><line style="stroke:#181818;stroke-width:0.5;" x1="2693.5" x2="2860.5967" y1="706.7969" y2="706.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.2002" x="2698.5" y="723.792">OK</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.793" x="2698.5" y="740.0889">BELOW_MIN</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.8711" x="2698.5" y="756.3857">ABOVE_MAX</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.0967" x="2698.5" y="772.6826">EXCEEDS_DAILY_LIMIT</text><line style="stroke:#181818;stroke-width:0.5;" x1="2693.5" x2="2860.5967" y1="779.9844" y2="779.9844"/></g><!--class WithdrawalResult--><g class="entity" data-entity="WithdrawalResult" data-source-line="80" data-uid="ent0015" id="entity_WithdrawalResult"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155.1221" x="2896.5" y="690.7969"/><ellipse cx="2911.5" cy="706.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2914.4688,712.4375 Q2913.8906,712.7344 2913.25,712.875 Q2912.6094,713.0313 2911.9063,713.0313 Q2909.4063,713.0313 2908.0781,711.3906 Q2906.7656,709.7344 2906.7656,706.6094 Q2906.7656,703.4844 2908.0781,701.8281 Q2909.4063,700.1719 2911.9063,700.1719 Q2912.6094,700.1719 2913.25,700.3281 Q2913.9063,700.4844 2914.4688,700.7813 L2914.4688,703.5 Q2913.8438,702.9219 2913.25,702.6563 Q2912.6563,702.375 2912.0313,702.375 Q2910.6875,702.375 2910,703.4531 Q2909.3125,704.5156 2909.3125,706.6094 Q2909.3125,708.7031 2910,709.7813 Q2910.6875,710.8438 2912.0313,710.8438 Q2912.6563,710.8438 2913.25,710.5781 Q2913.8438,710.2969 2914.4688,709.7188 L2914.4688,712.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.1221" x="2925.5" y="711.6436">WithdrawalResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="2897.5" x2="3050.6221" y1="722.7969" y2="722.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9775" x="2902.5" y="739.792">+status : Status</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.082" x="2902.5" y="756.0889">+balanceAfter : int</text><line style="stroke:#181818;stroke-width:0.5;" x1="2897.5" x2="3050.6221" y1="763.3906" y2="763.3906"/></g><!--class Status--><g class="entity" data-entity="Status" data-source-line="85" data-uid="ent0016" id="entity_Status"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179.8359" x="2884" y="848.7969"/><ellipse cx="2947.3623" cy="864.7969" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2951.4717,870.7969 L2943.7529,870.7969 L2943.7529,858.4063 L2951.4717,858.4063 L2951.4717,860.5625 L2946.2061,860.5625 L2946.2061,863.2344 L2950.9717,863.2344 L2950.9717,865.3906 L2946.2061,865.3906 L2946.2061,868.6406 L2951.4717,868.6406 L2951.4717,870.7969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.6113" x="2967.8623" y="869.6436">Status</text><line style="stroke:#181818;stroke-width:0.5;" x1="2885" x2="3062.8359" y1="880.7969" y2="880.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20.2002" x="2890" y="897.792">OK</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.1836" x="2890" y="914.0889">INSUFFICIENT_FUNDS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.8359" x="2890" y="930.3857">DAILY_LIMIT_EXCEEDED</text><line style="stroke:#181818;stroke-width:0.5;" x1="2885" x2="3062.8359" y1="937.6875" y2="937.6875"/></g><!--class RealBankService--><g class="entity" data-entity="RealBankService" data-source-line="91" data-uid="ent0017" id="entity_RealBankService"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149.7148" x="3264" y="1075.7969"/><ellipse cx="3279" cy="1091.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3281.9688,1097.4375 Q3281.3906,1097.7344 3280.75,1097.875 Q3280.1094,1098.0313 3279.4063,1098.0313 Q3276.9063,1098.0313 3275.5781,1096.3906 Q3274.2656,1094.7344 3274.2656,1091.6094 Q3274.2656,1088.4844 3275.5781,1086.8281 Q3276.9063,1085.1719 3279.4063,1085.1719 Q3280.1094,1085.1719 3280.75,1085.3281 Q3281.4063,1085.4844 3281.9688,1085.7813 L3281.9688,1088.5 Q3281.3438,1087.9219 3280.75,1087.6563 Q3280.1563,1087.375 3279.5313,1087.375 Q3278.1875,1087.375 3277.5,1088.4531 Q3276.8125,1089.5156 3276.8125,1091.6094 Q3276.8125,1093.7031 3277.5,1094.7813 Q3278.1875,1095.8438 3279.5313,1095.8438 Q3280.1563,1095.8438 3280.75,1095.5781 Q3281.3438,1095.2969 3281.9688,1094.7188 L3281.9688,1097.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.7148" x="3293" y="1096.6436">RealBankService</text><line style="stroke:#181818;stroke-width:0.5;" x1="3265" x2="3412.7148" y1="1107.7969" y2="1107.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="3265" x2="3412.7148" y1="1115.7969" y2="1115.7969"/></g><!--class BankServiceProxy--><g class="entity" data-entity="BankServiceProxy" data-source-line="92" data-uid="ent0019" id="entity_BankServiceProxy"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.2393" x="3336" y="873.2969"/><ellipse cx="3351" cy="889.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3353.9688,894.9375 Q3353.3906,895.2344 3352.75,895.375 Q3352.1094,895.5313 3351.4063,895.5313 Q3348.9063,895.5313 3347.5781,893.8906 Q3346.2656,892.2344 3346.2656,889.1094 Q3346.2656,885.9844 3347.5781,884.3281 Q3348.9063,882.6719 3351.4063,882.6719 Q3352.1094,882.6719 3352.75,882.8281 Q3353.4063,882.9844 3353.9688,883.2813 L3353.9688,886 Q3353.3438,885.4219 3352.75,885.1563 Q3352.1563,884.875 3351.5313,884.875 Q3350.1875,884.875 3349.5,885.9531 Q3348.8125,887.0156 3348.8125,889.1094 Q3348.8125,891.2031 3349.5,892.2813 Q3350.1875,893.3438 3351.5313,893.3438 Q3352.1563,893.3438 3352.75,893.0781 Q3353.3438,892.7969 3353.9688,892.2188 L3353.9688,894.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.2393" x="3365" y="894.1436">BankServiceProxy</text><line style="stroke:#181818;stroke-width:0.5;" x1="3337" x2="3493.2393" y1="905.2969" y2="905.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="3337" x2="3493.2393" y1="913.2969" y2="913.2969"/></g><!--class DispenseStrategy--><g class="entity" data-entity="DispenseStrategy" data-source-line="101" data-uid="ent0023" id="entity_DispenseStrategy"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="363.1416" x="3584.5" y="699.2969"/><ellipse cx="3699.7061" cy="715.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3695.6279,711.0625 L3695.6279,708.9063 L3703.0186,708.9063 L3703.0186,711.0625 L3700.5498,711.0625 L3700.5498,719.1406 L3703.0186,719.1406 L3703.0186,721.2969 L3695.6279,721.2969 L3695.6279,719.1406 L3698.0967,719.1406 L3698.0967,711.0625 L3695.6279,711.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="124.2295" x="3720.2061" y="720.1436">DispenseStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="3585.5" x2="3946.6416" y1="731.2969" y2="731.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="3585.5" x2="3946.6416" y1="739.2969" y2="739.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="351.1416" x="3590.5" y="756.292">+makeBundle( amount : int, denoms : List ) : Map</text></g><!--class GreedyDispenseStrategy--><g class="entity" data-entity="GreedyDispenseStrategy" data-source-line="104" data-uid="ent0024" id="entity_GreedyDispenseStrategy"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.2324" x="3662.5" y="873.2969"/><ellipse cx="3677.5" cy="889.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3680.4688,894.9375 Q3679.8906,895.2344 3679.25,895.375 Q3678.6094,895.5313 3677.9063,895.5313 Q3675.4063,895.5313 3674.0781,893.8906 Q3672.7656,892.2344 3672.7656,889.1094 Q3672.7656,885.9844 3674.0781,884.3281 Q3675.4063,882.6719 3677.9063,882.6719 Q3678.6094,882.6719 3679.25,882.8281 Q3679.9063,882.9844 3680.4688,883.2813 L3680.4688,886 Q3679.8438,885.4219 3679.25,885.1563 Q3678.6563,884.875 3678.0313,884.875 Q3676.6875,884.875 3676,885.9531 Q3675.3125,887.0156 3675.3125,889.1094 Q3675.3125,891.2031 3676,892.2813 Q3676.6875,893.3438 3678.0313,893.3438 Q3678.6563,893.3438 3679.25,893.0781 Q3679.8438,892.7969 3680.4688,892.2188 L3680.4688,894.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2324" x="3691.5" y="894.1436">GreedyDispenseStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="3663.5" x2="3868.7324" y1="905.2969" y2="905.2969"/><line style="stroke:#181818;stroke-width:0.5;" x1="3663.5" x2="3868.7324" y1="913.2969" y2="913.2969"/></g><!--class PinState--><g class="entity" data-entity="PinState" data-source-line="111" data-uid="ent0027" id="entity_PinState"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="322.7754" x="23.5" y="334.7969"/><ellipse cx="151.5063" cy="350.7969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M147.4282,346.5625 L147.4282,344.4063 L154.8188,344.4063 L154.8188,346.5625 L152.3501,346.5625 L152.3501,354.6406 L154.8188,354.6406 L154.8188,356.7969 L147.4282,356.7969 L147.4282,354.6406 L149.897,354.6406 L149.897,346.5625 L147.4282,346.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="58.2627" x="172.0063" y="355.6436">PinState</text><line style="stroke:#181818;stroke-width:0.5;" x1="24.5" x2="345.2754" y1="366.7969" y2="366.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="24.5" x2="345.2754" y1="374.7969" y2="374.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241.1992" x="29.5" y="391.792">+onEnter( ctx : PinContext ) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310.7754" x="29.5" y="408.0889">+onPin( ctx : PinContext, pin : String ) : void</text></g><!--class PinContext--><g class="entity" data-entity="PinContext" data-source-line="116" data-uid="ent0028" id="entity_PinContext"><rect fill="#F1F1F1" height="162.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="232.7666" x="114.5" y="79.2969"/><ellipse cx="188.4854" cy="95.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M191.4541,100.9375 Q190.876,101.2344 190.2354,101.375 Q189.5947,101.5313 188.8916,101.5313 Q186.3916,101.5313 185.0635,99.8906 Q183.751,98.2344 183.751,95.1094 Q183.751,91.9844 185.0635,90.3281 Q186.3916,88.6719 188.8916,88.6719 Q189.5947,88.6719 190.2354,88.8281 Q190.8916,88.9844 191.4541,89.2813 L191.4541,92 Q190.8291,91.4219 190.2354,91.1563 Q189.6416,90.875 189.0166,90.875 Q187.6729,90.875 186.9854,91.9531 Q186.2979,93.0156 186.2979,95.1094 Q186.2979,97.2031 186.9854,98.2813 Q187.6729,99.3438 189.0166,99.3438 Q189.6416,99.3438 190.2354,99.0781 Q190.8291,98.7969 191.4541,98.2188 L191.4541,100.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2959" x="208.9854" y="100.1436">PinContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="115.5" x2="346.2666" y1="111.2969" y2="111.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.3994" x="120.5" y="128.292">-attempts : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.3965" x="120.5" y="144.5889">-state : PinState</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212.4268" x="120.5" y="160.8857">+setState( s : PinState ) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220.7666" x="120.5" y="177.1826">+handlePin( pin : String ) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.6279" x="120.5" y="193.4795">+maxedOut() : boolean</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.3652" x="120.5" y="209.7764">+bumpAttempt() : void</text><line style="stroke:#181818;stroke-width:1;" x1="115.5" x2="346.2666" y1="217.0781" y2="217.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2617" x="120.5" y="234.0732">+atm : ATM</text></g><!--class AwaitPin--><g class="entity" data-entity="AwaitPin" data-source-line="127" data-uid="ent0029" id="entity_AwaitPin"><rect fill="#F1F1F1" height="48" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.1904" x="139" y="546.7969"/><ellipse cx="154" cy="562.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M156.9688,568.4375 Q156.3906,568.7344 155.75,568.875 Q155.1094,569.0313 154.4063,569.0313 Q151.9063,569.0313 150.5781,567.3906 Q149.2656,565.7344 149.2656,562.6094 Q149.2656,559.4844 150.5781,557.8281 Q151.9063,556.1719 154.4063,556.1719 Q155.1094,556.1719 155.75,556.3281 Q156.4063,556.4844 156.9688,556.7813 L156.9688,559.5 Q156.3438,558.9219 155.75,558.6563 Q155.1563,558.375 154.5313,558.375 Q153.1875,558.375 152.5,559.4531 Q151.8125,560.5156 151.8125,562.6094 Q151.8125,564.7031 152.5,565.7813 Q153.1875,566.8438 154.5313,566.8438 Q155.1563,566.8438 155.75,566.5781 Q156.3438,566.2969 156.9688,565.7188 L156.9688,568.4375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1904" x="168" y="567.6436">AwaitPin</text><line style="stroke:#181818;stroke-width:0.5;" x1="140" x2="230.1904" y1="578.7969" y2="578.7969"/><line style="stroke:#181818;stroke-width:0.5;" x1="140" x2="230.1904" y1="586.7969" y2="586.7969"/></g><!--class ATMConfig--><g class="entity" data-entity="ATMConfig" data-source-line="19" data-uid="ent0004" id="entity_ATMConfig"><rect fill="#F1F1F1" height="154.0469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.6689" x="3680.5" y="1022.7969"/><ellipse cx="3724.0939" cy="1042.9297" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3727.0626,1048.5703 Q3726.4845,1048.8672 3725.8439,1049.0078 Q3725.2033,1049.1641 3724.5001,1049.1641 Q3722.0001,1049.1641 3720.672,1047.5234 Q3719.3595,1045.8672 3719.3595,1042.7422 Q3719.3595,1039.6172 3720.672,1037.9609 Q3722.0001,1036.3047 3724.5001,1036.3047 Q3725.2033,1036.3047 3725.8439,1036.4609 Q3726.5001,1036.6172 3727.0626,1036.9141 L3727.0626,1039.6328 Q3726.4376,1039.0547 3725.8439,1038.7891 Q3725.2501,1038.5078 3724.6251,1038.5078 Q3723.2814,1038.5078 3722.5939,1039.5859 Q3721.9064,1040.6484 3721.9064,1042.7422 Q3721.9064,1044.8359 3722.5939,1045.9141 Q3723.2814,1046.9766 3724.6251,1046.9766 Q3725.2501,1046.9766 3725.8439,1046.7109 Q3726.4376,1046.4297 3727.0626,1045.8516 L3727.0626,1048.5703 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69.9902" x="3747.0165" y="1038.9355">&#171;singleton&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.127" x="3744.4481" y="1054.7607">ATMConfig</text><line style="stroke:#181818;stroke-width:0.5;" x1="3681.5" x2="3850.1689" y1="1063.0625" y2="1063.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.3877" x="3686.5" y="1080.0576">+get() : ATMConfig</text><line style="stroke:#181818;stroke-width:1;" x1="3681.5" x2="3850.1689" y1="1087.3594" y2="1087.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.6689" x="3686.5" y="1104.3545">+pinMaxAttempts : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.6855" x="3686.5" y="1120.6514">+minWithdrawal  : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157.7871" x="3686.5" y="1136.9482">+maxWithdrawal  : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.6367" x="3686.5" y="1153.2451">+dailyLimit     : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.2998" x="3686.5" y="1169.542">+denominations  : List</text></g><!--class Stage--><g class="entity" data-entity="Stage" data-source-line="136" data-uid="ent0033" id="entity_Stage"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.625" x="682.5" y="95.7969"/><ellipse cx="721.8765" cy="111.7969" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M725.9858,117.7969 L718.2671,117.7969 L718.2671,105.4063 L725.9858,105.4063 L725.9858,107.5625 L720.7202,107.5625 L720.7202,110.2344 L725.4858,110.2344 L725.4858,112.3906 L720.7202,112.3906 L720.7202,115.6406 L725.9858,115.6406 L725.9858,117.7969 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.4551" x="741.2935" y="116.6436">Stage</text><line style="stroke:#181818;stroke-width:0.5;" x1="683.5" x2="808.125" y1="127.7969" y2="127.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.5547" x="688.5" y="144.792">IDLE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.7217" x="688.5" y="161.0889">AWAIT_PIN</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.625" x="688.5" y="177.3857">AWAIT_AMOUNT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.8936" x="688.5" y="193.6826">DISPENSING</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.5977" x="688.5" y="209.9795">EJECTING</text><line style="stroke:#181818;stroke-width:0.5;" x1="683.5" x2="808.125" y1="217.2813" y2="217.2813"/></g><!--class ATM--><g class="entity" data-entity="ATM" data-source-line="144" data-uid="ent0034" id="entity_ATM"><rect fill="#F1F1F1" height="145.7813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.8779" x="1332" y="302.2969"/><ellipse cx="1484.585" cy="318.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1487.5537,323.9375 Q1486.9756,324.2344 1486.335,324.375 Q1485.6943,324.5313 1484.9912,324.5313 Q1482.4912,324.5313 1481.1631,322.8906 Q1479.8506,321.2344 1479.8506,318.1094 Q1479.8506,314.9844 1481.1631,313.3281 Q1482.4912,311.6719 1484.9912,311.6719 Q1485.6943,311.6719 1486.335,311.8281 Q1486.9912,311.9844 1487.5537,312.2813 L1487.5537,315 Q1486.9287,314.4219 1486.335,314.1563 Q1485.7412,313.875 1485.1162,313.875 Q1483.7725,313.875 1483.085,314.9531 Q1482.3975,316.0156 1482.3975,318.1094 Q1482.3975,320.2031 1483.085,321.2813 Q1483.7725,322.3438 1485.1162,322.3438 Q1485.7412,322.3438 1486.335,322.0781 Q1486.9287,321.7969 1487.5537,321.2188 L1487.5537,323.9375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.208" x="1505.085" y="323.1436">ATM</text><line style="stroke:#181818;stroke-width:0.5;" x1="1333" x2="1674.8779" y1="334.2969" y2="334.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.665" x="1338" y="351.292">+stage : Stage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.3994" x="1338" y="367.5889">+currentCard : Card</text><line style="stroke:#181818;stroke-width:1;" x1="1333" x2="1674.8779" y1="374.8906" y2="374.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.8105" x="1338" y="391.8857">+insertCard() : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.5674" x="1338" y="408.1826">+onPinEntered( pin : String ) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="331.8779" x="1338" y="424.4795">+onAmountEntered( amountStr : String ) : void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.2012" x="1338" y="440.7764">+eject() : void</text></g><g class="entity" data-entity="GMN52" data-source-line="181" data-uid="ent0053" id="entity_GMN52"><path d="M382.5,117.2969 L382.5,156.2969 L347.76,160.2969 L382.5,164.2969 L382.5,202.9609 A0,0 0 0 0 382.5,202.9609 L647.2373,202.9609 A0,0 0 0 0 647.2373,202.9609 L647.2373,127.2969 L637.2373,117.2969 L382.5,117.2969 A0,0 0 0 0 382.5,117.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M637.2373,117.2969 L637.2373,127.2969 L647.2373,127.2969 L637.2373,117.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.4385" x="388.5" y="134.3638">Local#1: format (4-6 digits)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.8486" x="388.5" y="149.4966">Local#2: weak pattern (all same)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.8911" x="388.5" y="164.6294">Remote: verifyPin() -&gt; PinDecision</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.7373" x="388.5" y="179.7622">On OK: ATM.stage = AWAIT_AMOUNT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.2378" x="388.5" y="194.895">On 3 fails: ATM.eject()</text></g><g class="entity" data-entity="GMN55" data-source-line="189" data-uid="ent0056" id="entity_GMN55"><path d="M379,527.7969 L379,613.4609 L813.4482,613.4609 L813.4482,537.7969 L803.4482,527.7969 L379,527.7969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M803.4482,527.7969 L803.4482,537.7969 L813.4482,537.7969 L803.4482,527.7969" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.4316" x="385" y="544.8638">Amount checks:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.5352" x="385" y="559.9966">1) local: multiples of 100, dispenser.canDispense()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.3042" x="385" y="575.1294">2) proxy: precheck() -&gt; min/max/daily</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.8389" x="385" y="590.2622">3) withdraw(): balance &amp; final debit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="413.4482" x="385" y="605.395">Then: strategy.makeBundle(), dispenser.dispense(), print, eject</text></g><!--reverse link BankService to RealBankService--><g class="link" data-entity-1="BankService" data-entity-2="RealBankService" data-source-line="91" data-uid="lnk18" id="link_BankService_RealBankService"><path d="M3305.1076,797.7794 C3308.5776,841.0894 3312.74,888.8369 3319,945.7969 C3324.07,991.9969 3331.46,1045.8469 3335.69,1075.7669" fill="none" id="BankService-backto-RealBankService" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3303.67,779.8369,3299.1267,798.2586,3311.0884,797.3002,3303.67,779.8369" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link BankService to BankServiceProxy--><g class="link" data-entity-1="BankService" data-entity-2="BankServiceProxy" data-source-line="92" data-uid="lnk20" id="link_BankService_BankServiceProxy"><path d="M3343.9049,794.9142 C3365.3849,825.5442 3381.95,849.1669 3398.81,873.2169" fill="none" id="BankService-backto-BankServiceProxy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3333.57,780.1769,3338.9925,798.3592,3348.8174,791.4693,3333.57,780.1769" style="stroke:#181818;stroke-width:1;"/></g><!--link BankServiceProxy to RealBankService--><g class="link" data-entity-1="BankServiceProxy" data-entity-2="RealBankService" data-source-line="94" data-uid="lnk21" id="link_BankServiceProxy_RealBankService"><path codeLine="94" d="M3406.13,921.6869 C3391.49,960.3269 3364.5468,1031.4065 3349.9368,1069.9465" fill="none" id="BankServiceProxy-to-RealBankService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3347.81,1075.5569,3354.7405,1068.5592,3349.5824,1070.8815,3347.26,1065.7234,3347.81,1075.5569" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.9463" x="3384" y="988.8638">delegates</text></g><!--reverse link DispenseStrategy to GreedyDispenseStrategy--><g class="link" data-entity-1="DispenseStrategy" data-entity-2="GreedyDispenseStrategy" data-source-line="104" data-uid="lnk25" id="link_DispenseStrategy_GreedyDispenseStrategy"><path d="M3766,781.5269 C3766,813.4969 3766,844.4469 3766,873.1169" fill="none" id="DispenseStrategy-backto-GreedyDispenseStrategy" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="3766,763.5269,3760,781.5269,3772,781.5269,3766,763.5269" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link PinState to AwaitPin--><g class="link" data-entity-1="PinState" data-entity-2="AwaitPin" data-source-line="127" data-uid="lnk30" id="link_PinState_AwaitPin"><path d="M172.8816,433.8458 C169.3716,473.2158 171.6,514.2969 176.36,546.6069" fill="none" id="PinState-backto-AwaitPin" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="174.48,415.9169,166.9053,433.313,178.8579,434.3786,174.48,415.9169" style="stroke:#181818;stroke-width:1;"/></g><!--link AwaitPin to PinState--><g class="link" data-entity-1="AwaitPin" data-entity-2="PinState" data-source-line="130" data-uid="lnk32" id="link_AwaitPin_PinState"><path codeLine="130" d="M194.15,546.6069 C199.18,514.2969 201.5387,473.2075 197.8287,433.8375" fill="none" id="AwaitPin-to-PinState" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="196.14,415.9169,191.8552,434.4004,203.8023,433.2746,196.14,415.9169" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link PinContext to PinState--><g class="link" data-entity-1="PinContext" data-entity-2="PinState" data-source-line="129" data-uid="lnk31" id="link_PinContext_PinState"><path codeLine="129" d="M211.139,253.2469 C204.269,285.0869 199.2,308.5469 193.55,334.6869" fill="none" id="PinContext-backto-PinState" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="213.67,241.5169,208.4945,246.5383,211.139,253.2469,216.3145,248.2256,213.67,241.5169" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to Display--><g class="link" data-entity-1="ATM" data-entity-2="Display" data-source-line="157" data-uid="lnk35" id="link_ATM_Display"><path codeLine="157" d="M1346.79,448.2969 C1322.11,460.7069 1297.13,473.9269 1274,487.2969 C1247.03,502.8769 1223.062,518.9629 1200.292,535.1329" fill="none" id="ATM-to-Display" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1195.4,538.6069,1205.0539,536.6572,1199.4766,535.7119,1200.4219,530.1346,1195.4,538.6069" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to Keypad--><g class="link" data-entity-1="ATM" data-entity-2="Keypad" data-source-line="158" data-uid="lnk36" id="link_ATM_Keypad"><path codeLine="158" d="M1457.83,448.3469 C1440.06,476.0669 1423.6776,501.6454 1408.5776,525.2054" fill="none" id="ATM-to-Keypad" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1405.34,530.2569,1413.5641,524.838,1408.038,526.0473,1406.8287,520.5212,1405.34,530.2569" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to CardReader--><g class="link" data-entity-1="ATM" data-entity-2="CardReader" data-source-line="159" data-uid="lnk37" id="link_ATM_CardReader"><path codeLine="159" d="M1531.55,448.3469 C1542.16,476.0669 1551.7268,501.0927 1560.7368,524.6527" fill="none" id="ATM-to-CardReader" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1562.88,530.2569,1563.4013,520.4218,1561.094,525.5867,1555.9291,523.2794,1562.88,530.2569" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to CashDispenser--><g class="link" data-entity-1="ATM" data-entity-2="CashDispenser" data-source-line="160" data-uid="lnk38" id="link_ATM_CashDispenser"><path codeLine="160" d="M1626.14,448.3469 C1673.13,476.0669 1719.8621,503.6484 1759.8021,527.2084" fill="none" id="ATM-to-CashDispenser" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1764.97,530.2569,1759.2505,522.2389,1760.6634,527.7165,1755.1859,529.1294,1764.97,530.2569" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to ReceiptPrinter--><g class="link" data-entity-1="ATM" data-entity-2="ReceiptPrinter" data-source-line="161" data-uid="lnk39" id="link_ATM_ReceiptPrinter"><path codeLine="161" d="M1676.06,410.5669 C1770.54,430.5569 1889.42,457.6469 1994,487.2969 C2046.97,502.3169 2099.7717,520.2127 2145.8417,536.7227" fill="none" id="ATM-to-ReceiptPrinter" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2151.49,538.7469,2144.367,531.9451,2146.7831,537.0601,2141.6682,539.4762,2151.49,538.7469" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to BankService--><g class="link" data-entity-1="ATM" data-entity-2="BankService" data-source-line="163" data-uid="lnk40" id="link_ATM_BankService"><path codeLine="163" d="M1676.1,382.4569 C1872.09,392.5669 2200.66,418.9769 2475,487.2969 C2522.89,499.2219 2574.51,519.3944 2614.5875,536.8069 C2619.5972,538.9834 2618.9507,538.6644 2623.5698,540.7332" fill="none" id="ATM-to-BankService" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2629.0457,543.1857,2622.4669,535.8563,2624.4825,541.1419,2619.1969,543.1575,2629.0457,543.1857" style="stroke:#181818;stroke-width:1;"/></g><!--link BankServiceProxy to ATMConfig--><g class="link" data-entity-1="BankServiceProxy" data-entity-2="ATMConfig" data-source-line="164" data-uid="lnk41" id="link_BankServiceProxy_ATMConfig"><path codeLine="164" d="M3455.61,921.4969 C3510.29,952.7269 3603.74,1006.1111 3675.19,1046.9211" fill="none" id="BankServiceProxy-to-ATMConfig" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3680.4,1049.8969,3674.5688,1041.9598,3676.0583,1047.417,3670.6011,1048.9065,3680.4,1049.8969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.8354" x="3580" y="988.8638">reads limits</text></g><!--link ATM to DispenseStrategy--><g class="link" data-entity-1="ATM" data-entity-2="DispenseStrategy" data-source-line="166" data-uid="lnk42" id="link_ATM_DispenseStrategy"><path codeLine="166" d="M1676.02,378.2069 C2137.36,384.3669 3378.48,408.1769 3545,487.2969 C3642.61,533.6769 3713.774,639.3617 3745.734,693.8417" fill="none" id="ATM-to-DispenseStrategy" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3748.77,699.0169,3747.6662,689.2301,3746.24,694.7042,3740.7659,693.278,3748.77,699.0169" style="stroke:#181818;stroke-width:1;"/></g><!--link GreedyDispenseStrategy to ATMConfig--><g class="link" data-entity-1="GreedyDispenseStrategy" data-entity-2="ATMConfig" data-source-line="167" data-uid="lnk43" id="link_GreedyDispenseStrategy_ATMConfig"><path codeLine="167" d="M3766,921.6869 C3766,946.3769 3766,980.6069 3766,1016.4969" fill="none" id="GreedyDispenseStrategy-to-ATMConfig" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3766,1022.4969,3770,1013.4969,3766,1017.4969,3762,1013.4969,3766,1022.4969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.3457" x="3767" y="988.8638">reads denoms</text></g><!--link ATM to Card--><g class="link" data-entity-1="ATM" data-entity-2="Card" data-source-line="169" data-uid="lnk44" id="link_ATM_Card"><path codeLine="169" d="M1331.93,399.9869 C1240.53,416.7169 1127.97,444.0569 1034,487.2969 C1010.06,498.3169 990.8374,511.1221 971.1974,526.4721" fill="none" id="ATM-to-Card" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="966.47,530.1669,976.0243,527.7763,970.4095,527.0879,971.0979,521.4731,966.47,530.1669" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to ATMConfig--><g class="link" data-entity-1="ATM" data-entity-2="ATMConfig" data-source-line="170" data-uid="lnk45" id="link_ATM_ATMConfig"><path codeLine="170" d="M1676.05,380.6269 C2240.5,395.9369 4000,453.0269 4000,569.7969 C4000,569.7969 4000,569.7969 4000,898.2969 C4000,979.0769 3924.0095,1031.7422 3857.2195,1063.4722" fill="none" id="ATM-to-ATMConfig" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="3851.8,1066.0469,3861.6457,1065.7979,3856.3163,1063.9013,3858.2128,1058.5719,3851.8,1066.0469" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to PinContext--><g class="link" data-entity-1="ATM" data-entity-2="PinContext" data-source-line="172" data-uid="lnk46" id="link_ATM_PinContext"><path codeLine="172" d="M1331.8,355.1269 C1019.05,320.1769 387.66,248.9869 365,241.2969 C359.23,239.3369 358.9513,239.4553 353.1913,237.0053" fill="none" id="ATM-to-PinContext" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="347.67,234.6569,354.3863,241.8604,352.2711,236.6139,357.5176,234.4987,347.67,234.6569" style="stroke:#181818;stroke-width:1;"/></g><!--link PinContext to ATM--><g class="link" data-entity-1="PinContext" data-entity-2="ATM" data-source-line="173" data-uid="lnk47" id="link_PinContext_ATM"><path codeLine="173" d="M347.71,234.5269 C353.47,237.0069 359.25,239.2869 365,241.2969 C461.95,275.1969 492.07,259.6869 594,272.2969 C850.78,304.0669 1142.8938,336.0305 1325.9838,355.5605" fill="none" id="PinContext-to-ATM" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1331.95,356.1969,1323.425,351.2648,1326.9782,355.6665,1322.5765,359.2197,1331.95,356.1969" style="stroke:#181818;stroke-width:1;"/></g><!--link BankService to PinDecision--><g class="link" data-entity-1="BankService" data-entity-2="PinDecision" data-source-line="175" data-uid="lnk48" id="link_BankService_PinDecision"><path codeLine="175" d="M2684.93,571.9069 C2683.2,574.9369 2650.4478,631.9737 2624.2978,677.5137" fill="none" id="BankService-to-PinDecision" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2621.31,682.7169,2629.2605,676.9039,2623.7998,678.3809,2622.3229,672.9202,2621.31,682.7169" style="stroke:#181818;stroke-width:1;"/></g><!--link BankService to AmountDecision--><g class="link" data-entity-1="BankService" data-entity-2="AmountDecision" data-source-line="176" data-uid="lnk49" id="link_BankService_AmountDecision"><path codeLine="176" d="M2685.07,571.9069 C2686.72,574.7569 2715.8077,624.8779 2741.6177,669.3379" fill="none" id="BankService-to-AmountDecision" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2744.63,674.5269,2743.5708,664.7351,2742.1197,670.2027,2736.6522,668.7516,2744.63,674.5269" style="stroke:#181818;stroke-width:1;"/></g><!--link BankService to WithdrawalResult--><g class="link" data-entity-1="BankService" data-entity-2="WithdrawalResult" data-source-line="177" data-uid="lnk50" id="link_BankService_WithdrawalResult"><path codeLine="177" d="M2685.08,571.8269 C2688.53,572.9369 2799.42,608.9969 2879,656.2969 C2895.71,666.2269 2908.1122,674.9971 2923.1222,686.8571" fill="none" id="BankService-to-WithdrawalResult" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="2927.83,690.5769,2923.2482,681.8587,2923.9069,687.477,2918.2885,688.1357,2927.83,690.5769" style="stroke:#181818;stroke-width:1;"/></g><!--link WithdrawalResult to Status--><g class="link" data-entity-1="WithdrawalResult" data-entity-2="Status" data-source-line="178" data-uid="lnk51" id="link_WithdrawalResult_Status"><path codeLine="178" d="M2974,771.9969 C2974,795.1269 2974,818.4369 2974,842.7969" fill="none" id="WithdrawalResult-to-Status" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="2974,848.7969,2978,839.7969,2974,843.7969,2970,839.7969,2974,848.7969" style="stroke:#181818;stroke-width:1;"/></g><!--link ATM to GMN55--><g class="link" data-entity-1="ATM" data-entity-2="GMN55" data-source-line="189" data-uid="lnk57" id="link_ATM_GMN55"><path d="M1331.76,396.4169 C1194.99,414.3869 999.56,444.5069 832,487.2969 C789.42,498.1669 743.6,513.3469 703.77,527.7269" fill="none" id="ATM-GMN55" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[ZLVRRkCs47tNLn0eq4f8xBqLVH1s0oYMabLZIuRbtUm-6RHCswmboX3fE6wxG3-YNzWlwP2KP4fEukGbuioGdElXiQ0Y8yYRZj1___oBadWO-cWuzD6UYZLA11R47eUHSmdV9InM1zkdV4iO9o0RbyNZmRx6R2CDA5jbH1JC7XHiILUEPV4DPLjSuXnjSRh1AvA80znMabHWQMmOf1dct1EYfFET865Qi8J-IT1Ro_e5VNhw3pH-FFB2w0MJwbxa5pcc3Frb8NqJ6k1oePO8zS0xXbmP8OIWH1Sentn35hPZodzOFrvsPn17D-4jifjKE2-OQpyWypfTwED7Nc-xkbAkNQ0L4Sg5nWgalPvIRIaRuKV86CctWeCDPK8fSihkeNYB4kznXam5VdnQiS0qEmnfJeMCtLGGLi1nMD22SQaOKYxE9U6pD_7llKc0nl5achoYDf-X57jSad5HGY0oSBYVb4kSGjsWsJ9yg2frWVYwsDj8a4VH50R913qKTA4grDfzHmvRl6WsbmGlnfIrYrehlBpOCT4jUEiusJCJC2Lb-qWlEZsI_05D3cBqh7C3pDVrB1qFJ36hXJR2oYTT41Ncl2WoWbbbksWCvpksWC5oqGXlNyZ7XAI4RiMuLABcpgrSsrNBZurPk6nvS8dcECCi9OP3pJrdckBQY-vKGy1ruqdyxVih-aBYIaBA1metjhkYgv51F92IBW-olArnlfI3qkuLiF59IZaqTPC0agv9kkbkxUHV3gAITBRlgwawl_quVnF2TvceIqJOBZVzggAAxzI_CFhg0Iwhxm5Cr-nw60_k0h-rk-rP-u3hO1ZVpqQ0b7BbNSTVWzd8-wPMmRT14FZ9pFV2uVVPC1o5q_fSZL1Tdu-p2A_3ZgjuvKSbhNh4MyeEgw7awAQsxSQNVBcv2GTX44rdDryYFr5YmwEPzl8OidODXZ4pUu7csupaX06C6EB6t92fb-ivUzXmOjhhNPrSvm90PcG5po8_r__9TE9DWzllo9PZh-SLUiHvpTDLJNdz08ytgoT0qhHeAfJZ3RbMq61t9baXEwyGNKq588TARfsisvAGnU7aQ2DbNTtv740AqDYRJeD9fEW6C0jq0wtvYYp0SDnanRuJEKWLHsaYBbWWbJPAnQCUTNWtrNDXe9KsL53HDNi2BamerQanJgqP1Ew-mrB8bMjkusKzDqHeOeMueUmwkCQoRXhFdd6fUjJ98jxfXwlzFCnt-RRY1tPhbs8GqWABN9EBTdpU7bC1Dvl5Rc80AoF-ejSpmsjszlj_NnqLPnf3iiyaI98mZf3zcQxMlOmya4pcRqNuIpDIGyfATq3e3mFfnRq7a35MSAU_lL7y9PAuveV9E8YICBg5HV1xC9ZAJ_2lOMCLyr9tQsnR4IL9TsK9gL34qLLSu4Z6g7p3bShCTDLbgYE1IpvRHscduRinrTCAfizigEb59JgJuFjm4YJe3V832DuF8a3QbuYPp8B4kufyDMjDfvhbaGuP8eFJDD8sxR0QkOcv9u3RxryPvDXLJ8kZJB9KRhLSR67GCx3rz6aQ1QrMH6hHCZ_gZurl6JCWDNA6p1ZK2IRHwEewHAAhFY4A9w-mlBLwU2rM07wKC3Wma4lJos6HukodTovQ5cME1R9_xVq6j745ENGgvNiNxGdU07K1g2WPid46auTpubWJaiF1ha6j7DHhXnKpUCGLXFJrn7ngJnpeFw0b_BxWsgZgMnZS1P9ULxxF2o6AN3el4wbpWnGbuwxrpa6PTDL5EGHE0PAuj7ptzkrbGu7BlacS7Ukz0wGEsiWzSZlbE_oQUGEG-KRzvB4-E4VkvhWDlVqPBU57JmRjCQV2cgu9Sm4FT2VrZJVLCUzlo3X85Q6-r4FQXFe_]--></g></svg>